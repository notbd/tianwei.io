@reference "tailwindcss";

/* Code block title styling */
[data-rehype-pretty-code-title] {
  @apply mt-4 px-4 py-2 text-sm font-medium font-mono;
}

[data-rehype-pretty-code-title] + pre {
  @apply mt-0;
}

/* Pre and code base styling */
pre {
  overflow-x: auto;
  padding: 1rem 0;
}

pre [data-line] {
  padding: 0 1rem;
}

/* Figure wrapper */
[data-rehype-pretty-code-figure] {
  @apply my-8;
}

/* Code text styling - light mode */
[data-rehype-pretty-code-figure] code,
[data-rehype-pretty-code-figure] code span {
  @apply text-sm;
  color: var(--shiki-light);
}

[data-rehype-pretty-code-figure] pre,
[data-rehype-pretty-code-figure] code {
  background-color: var(--shiki-light-bg);
  font-variant-ligatures: none;
}

[data-rehype-pretty-code-figure] code span {
  @apply bg-transparent;
}

/* Code text styling - dark mode */
.dark [data-rehype-pretty-code-figure] code,
.dark [data-rehype-pretty-code-figure] code span {
  color: var(--shiki-dark);
}

.dark [data-rehype-pretty-code-figure] pre,
.dark [data-rehype-pretty-code-figure] code {
  background-color: var(--shiki-dark-bg);
}

/* Character highlighting - light mode */
[data-highlighted-chars] {
  @apply rounded bg-transparent;
  box-shadow: 0 0 0 0.2rem rgb(212 212 216);
}

mark[data-highlighted-chars] span {
  @apply rounded;
  background-color: rgb(212 212 216);
}

/* Character highlighting - dark mode */
.dark [data-highlighted-chars] {
  @apply rounded bg-transparent;
  box-shadow: 0 0 0 0.2rem rgb(63 63 70);
}

.dark mark[data-highlighted-chars] span {
  @apply rounded;
  background-color: rgb(63 63 70);
}

/* Line numbers */
code {
  counter-reset: line;
}

pre code[data-line-numbers] > [data-line]::before {
  counter-increment: line;
  content: counter(line);

  display: inline-block;
  width: 1rem;
  margin-right: 2rem;
  text-align: right;
  @apply text-zinc-300 dark:text-zinc-700;
}

code[data-line-numbers-max-digits='2'] > [data-line]::before {
  width: 2rem;
}

code[data-line-numbers-max-digits='3'] > [data-line]::before {
  width: 3rem;
}

/* Line highlighting */
[data-highlighted-line] {
  @apply border-l-2 border-teal-500 bg-teal-500/10;
}

/* Nested list marker styling (migrated from Tailwind plugin) */
.nested-list-marker > li > ul > li::marker {
  content: '>  ';
}

.nested-list-marker > li > ul > li > ul > li::marker {
  content: 'Â·  ';
}

/* Anchor link styling for headings */
.mdx .anchor {
  @apply no-underline;
}

.mdx h1 .anchor,
.mdx h2 .anchor,
.mdx h3 .anchor,
.mdx h4 .anchor,
.mdx h5 .anchor,
.mdx h6 .anchor {
  @apply text-inherit no-underline;
}
